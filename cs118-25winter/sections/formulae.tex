\section{Formulae}
\subsection{TCP Retransmission}
\begin{itemize}[itemsep=0em]
  \item \textbf{RTO}: retransmission timer
  \item \textbf{RTT}: retransmission timeout
  \item \textbf{SRTT}: sample retransmission timeout
  \item \textbf{DevRTT}: safety margin for RTT  
\end{itemize}
\footnotesize
For the first measurement where s is the actual sample taken \\
$\mathrm{SRTT} = s$ \\
$\mathrm{DevRTT} = \mathrm{SRTT} / 2$ \\
Anything after where a and b are a values between 0 and 1 \\
$\mathrm{SRTT} = (1 - a) * \mathrm{SRTT} + a * s$ \\
$\mathrm{DevRTT} = (1 - b) * \mathrm{devRTT} + b * |\mathrm{SRTT} - s|$ \\
$\mathrm{RTO} = \mathrm{SRTT} + 4 * \mathrm{DevRTT}$ \\
typical params for a and b: \\
$a = 1 / 8, b = 1 / 4$ \\
\small
\subsection{Single Hop Delay}
\begin{itemize}[itemsep=0em]
  \item $q$ : \# packets in queue
  \item $d$ : link length
  \item $R$ : bandwidth
  \item $L$ : packet size
  \item $s$ : propagation speed
  \item $T$ : transmission delay
  \item $P$ : propagation delay
  \item $Q$ : queuing delay
  \item $t$ : total delay
\end{itemize}
\remarkbox{
  $T = \frac{L}{R},~~P = \frac{d}{s}$ \\
  $Q = T\cdot q,~~t = Q + T + P$ \\
}
% add newpage if needed to fix weird spacing
\subsection{IP Fragmentation Calc}
Let $T$ be the total packet size (whole), and $M$ be the MTU. Then
$P=T-20$ is the payload size. Then
\remarkbox{
  $F=\left\lfloor\frac{M-20}{8}\right\rfloor\cdot 8$ ~~frag payload \\
  $N_{F}=\left\lfloor\frac{P}{F}\right\rfloor$~~\# large frags \\
  $F_{\text{small}}=P-F\cdot N_{F}$ \\
  $\text{offset}=\frac{F}{8}$
}
Add 20 back to each payload.
\subsection{CSMA/CD efficiency}
Where $t_{\text{prop}}$ is maximum propagation delay between any 2 nodes
and $t_{\text{trans}}$ is time to transmit a maximum-sized frame

\remarkbox{
  $\mathrm{Eff} = \frac{1}{1+5t_{\text{prop}}/\text{trans}}$
}

Efficiency approaches 1 as $t_{\text{prop}}\to 0$ or
$t_{\text{trans}}\to\infty$
\subsection{Aloha Probability}
For pure aloha, one node success, any node success, max efficiency

\remarkbox{
  $p\cdot\left(1-p\right)^{2\left(N-1\right)}$
  $Np\cdot\left(1-p\right)^{2\left(N-1\right)}$
  $\frac{1}{2e}$ as $N\to\infty$
}

For slotted aloha

\remarkbox{
  $p\cdot\left(1-p\right)^{N-1}$
  $Np\cdot\left(1-p\right)^{N-1}$
  $\frac{1}{e}$ as $N\to\infty$
}
